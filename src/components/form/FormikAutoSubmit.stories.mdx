import { Meta, Story, Canvas } from '@storybook/addon-docs'
import { action } from '@storybook/addon-actions'
import { Formik, Field } from 'formik'

import { FormikAutoSubmit } from './FormikAutoSubmit'
import { Form } from './Form'

<Meta title="Components/Form/FormikAutoSubmit" component={FormikAutoSubmit} />

# FormikAutoSubmit

This component can be added to a form to automatically save on form changes.
It requires to be inside a Formik context.

<Canvas>
  <Story name="Default">
    <Formik
      initialValues={{
        email: '',
      }}
      onSubmit={(values, formikHelpers) => {
        action('submit')(values)
        formikHelpers.setSubmitting(false)
      }}
    >
      <Form>
        <Field name="email" type="email" />
        <FormikAutoSubmit />
      </Form>
    </Formik>
  </Story>
</Canvas>
