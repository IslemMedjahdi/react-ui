import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'
import { action } from '@storybook/addon-actions'
import { Formik } from 'formik'
import { SectionContentTwoColumn } from '../section'
import { makeTheme } from '../../theme/theme'
import { ThemeProvider } from '../../theme/ThemeProvider'
import { Input } from './Input'
import { Form } from './Form'

<Meta title="Components/Form/Input" component={Input} />

# Input

This component can be used to create inputs. This input already has a label and handles error messages in `formik` Forms.

export const Template = ({ ...args }) => (
  <ThemeProvider theme={makeTheme()}>
    <Formik
      initialValues={{ name: '' }}
      onSubmit={(values) => action('onSubmit')(values)}
    >
      <Form>
        <SectionContentTwoColumn>
          <Input {...args} />
        </SectionContentTwoColumn>
      </Form>
    </Formik>
  </ThemeProvider>
)

<Canvas>
  <Story
    name="Default"
    args={{
      label: 'Name',
      type: 'text',
      placeholder: 'Firstname Lastname',
      name: 'name',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Props

<ArgsTable story="Default" />

### Theme

- `form.input.base`: Defines base styles of the input, that will be applied in any state.
- `form.input.normal`: Defines the normal styles of the input, they will be replaced in error or disabled states
- `form.input.error`: Defines the error styles of the input.
- `form.input.disabled`: Defines the disabled styles of the input.

- `form.inputLabel.base`: Defines base styles of the input label, that will be applied in any state.
- `form.inputLabel.normal`: Defines the normal styles of the input label, they will be replaced in error or disabled states
- `form.inputLabel.error`: Defines the error styles of the input label.
- `form.inputLabel.disabled`: Defines the disabled styles of the input.

## States

<Canvas>
  <Story
    name="Placeholder"
    args={{
      label: 'Name',
      type: 'text',
      placeholder: 'Firstname Lastname',
      name: 'name',
      value: '',
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="Filled"
    args={{
      label: 'Name',
      type: 'text',
      placeholder: 'Firstname Lastname',
      name: 'name',
      value: 'John Doe',
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="Error"
    args={{
      label: 'Name',
      type: 'text',
      placeholder: 'Firstname Lastname',
      name: 'name',
      value: '',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
